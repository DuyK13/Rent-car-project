<!DOCTYPE html>
<html lang="zxx">

<head>
  <meta charset="UTF-8" />
  <meta name="description" content="Fashi Template" />
  <meta name="keywords" content="Fashi, unica, creative, html" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>test</title>
</head>

<body>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"
    integrity="sha512-894YE6QWD5I59HgZOGReFYm4dnWc1Qt5NtvYSaNcOP+u1T9qYdvdihz0PPSiiqn/+/3e7Jo4EaG7TubfWGUrMQ=="
    crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  <script>
    $(document).ready(function () {
      var url = "http://ec2-13-213-74-229.ap-southeast-1.compute.amazonaws.com:8081/api/notification/subscribe";
      var eventSource = new EventSource(url);
      eventSource.addEventListener("PENDING", (event) => {
        alert(event.data);
      })
      eventSource.addEventListener("error", (event) => {
        if (event.currentTarget.readyState == EventSource.CLOSED) {

        } else {
          eventSource.close();
        }
      })
    });
  </script>
</body>

</html>